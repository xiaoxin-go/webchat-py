webpackJsonp([17],{XNmN:function(i,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),t=a.n(n),s=a("exGp"),r=a.n(s),o=a("gyMJ"),m={name:"WapChat",mounted:function(){this.$User.user?(this.group_id=this.$route.params.id,this.getGroupUser(),this.getFriend()):this.$router.push("/login")},data:function(){return{group_id:null,search_name:"",member_list:[],group_user_ids:[5],data_list:[],friend_list:[{id:1,username:"xiaoxin",logo:"/static/images/mv1.jpg",type:"friend",nickname:"xiaoxin1",remark_name:"xiaoxin1"},{id:2,username:"xiaoxin1",logo:"/static/images/mv2.png",type:"friend",nickname:"xiaoxin2",remark_name:"xiaoxin2"},{id:3,username:"xiaoxin3",logo:"/static/images/mv3.jpg",type:"friend",nickname:"xiaoxin3",remark_name:"xiaoxin3"},{id:4,username:"xiaoxin4",logo:"/static/images/mv4.jpg",type:"friend",nickname:"xiaoxin4",remark_name:"xiaoxin4"},{id:5,username:"xiaoxin5",logo:"/static/images/mv5.jpeg",type:"friend",nickname:"xiaoxin5",remark_name:"xiaoxin5"},{id:1,username:"xiaoxin",logo:"/static/images/mv1.jpg",type:"friend",nickname:"xiaoxin1",remark_name:"xiaoxin1"},{id:2,username:"xiaoxin1",logo:"/static/images/mv2.png",type:"friend",nickname:"xiaoxin2",remark_name:"xiaoxin2"},{id:3,username:"xiaoxin3",logo:"/static/images/mv3.jpg",type:"friend",nickname:"xiaoxin3",remark_name:"xiaoxin3"},{id:4,username:"xiaoxin4",logo:"/static/images/mv4.jpg",type:"friend",nickname:"xiaoxin4",remark_name:"xiaoxin4"},{id:5,username:"xiaoxin5",logo:"/static/images/mv5.jpeg",type:"friend",nickname:"xiaoxin5",remark_name:"xiaoxin5"},{id:1,username:"xiaoxin",logo:"/static/images/mv1.jpg",type:"friend",nickname:"xiaoxin1",remark_name:"xiaoxin1"},{id:2,username:"xiaoxin1",logo:"/static/images/mv2.png",type:"friend",nickname:"xiaoxin2",remark_name:"xiaoxin2"},{id:3,username:"xiaoxin3",logo:"/static/images/mv3.jpg",type:"friend",nickname:"xiaoxin3",remark_name:"xiaoxin3"},{id:4,username:"xiaoxin4",logo:"/static/images/mv4.jpg",type:"friend",nickname:"xiaoxin4",remark_name:"xiaoxin4"},{id:5,username:"xiaoxin5",logo:"/static/images/mv5.jpeg",type:"friend",nickname:"xiaoxin5",remark_name:"xiaoxin5"},{id:1,username:"xiaoxin",logo:"/static/images/mv1.jpg",type:"friend",nickname:"xiaoxin1",remark_name:"xiaoxin1"},{id:2,username:"xiaoxin1",logo:"/static/images/mv2.png",type:"friend",nickname:"xiaoxin2",remark_name:"xiaoxin2"},{id:3,username:"xiaoxin3",logo:"/static/images/mv3.jpg",type:"friend",nickname:"xiaoxin3",remark_name:"xiaoxin3"},{id:4,username:"xiaoxin4",logo:"/static/images/mv4.jpg",type:"friend",nickname:"xiaoxin4",remark_name:"xiaoxin4"},{id:5,username:"xiaoxin5",logo:"/static/images/mv5.jpeg",type:"friend",nickname:"xiaoxin5",remark_name:"xiaoxin5"},{id:1,username:"xiaoxin",logo:"/static/images/mv1.jpg",type:"friend",nickname:"xiaoxin1",remark_name:"xiaoxin1"},{id:2,username:"xiaoxin1",logo:"/static/images/mv2.png",type:"friend",nickname:"xiaoxin2",remark_name:"xiaoxin2"},{id:3,username:"xiaoxin3",logo:"/static/images/mv3.jpg",type:"friend",nickname:"xiaoxin3",remark_name:"xiaoxin3"},{id:4,username:"xiaoxin4",logo:"/static/images/mv4.jpg",type:"friend",nickname:"xiaoxin4",remark_name:"xiaoxin4"},{id:5,username:"xiaoxin5",logo:"/static/images/mv5.jpeg",type:"friend",nickname:"xiaoxin5",remark_name:"xiaoxin5"}]}},methods:{getGroupUser:function(){var i=this;return r()(t.a.mark(function e(){var a,n;return t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={group_id:i.group_id},e.next=3,Object(o.p)(a);case 3:200===(n=e.sent).code?i.group_user_ids=n.data.map(function(i){return i.id}):i.$Message.error(n.message);case 5:case"end":return e.stop()}},e,i)}))()},getFriend:function(){var i=this;return r()(t.a.mark(function e(){var a;return t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.n)();case 2:200===(a=e.sent).code?(i.friend_list=a.data,i.data_list=a.data):i.$Message.error(a.message);case 4:case"end":return e.stop()}},e,i)}))()},addGroupUser:function(){var i=this;return r()(t.a.mark(function e(){var a,n;return t.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i.member_list),a={group_id:i.group_id,member_list:i.member_list},e.next=4,Object(o.g)(a);case 4:200===(n=e.sent).code?i.$router.go(-1):i.$Message.error(n.message);case 6:case"end":return e.stop()}},e,i)}))()},sendMessage:function(){var i={name:"xiaoxin",logo:"/static/images/xiaoxin.jpg",message:this.send_message};this.message_data[this.chat_active_id].push(i),this.send_message="",this.scrollAuto()}},sockets:{connect:function(){console.log("socket connected")},message:function(){console.log("返回"+val)}}},x={render:function(){var i=this,e=i.$createElement,a=i._self._c||e;return a("div",{staticClass:"wap-main"},[a("div",{staticClass:"wap-main-group"},[a("div",{staticClass:"wap-group-info-title"},[a("span",{staticClass:"wap-main-chat-title-back",on:{click:function(e){i.$router.go(-1)}}},[a("Icon",{attrs:{type:"ios-arrow-back",size:"18"}})],1),i._v(" "),a("span",{staticClass:"wap-main-chat-title-name"},[i._v("\n        选择联系人\n      ")]),i._v(" "),a("span",{staticStyle:{position:"absolute",right:"10px"}},[a("Button",{attrs:{type:"success",disabled:0===i.member_list.length,size:"small"},on:{click:i.addGroupUser}},[i._v("确定")])],1)]),i._v(" "),a("div",{staticClass:"wap-main-body-friend-search"},[a("Input",{attrs:{search:"",placeholder:"搜索",size:"large"},model:{value:i.search_name,callback:function(e){i.search_name=e},expression:"search_name"}})],1),i._v(" "),a("div",{staticClass:"wap-main-body-friend-body"},[a("CheckboxGroup",{model:{value:i.member_list,callback:function(e){i.member_list=e},expression:"member_list"}},[i._l(i.friend_list,function(e,n){return i.group_user_ids.indexOf(e.id)<0&(e.remark_name&&e.remark_name.startsWith(i.search_name)||e.nickname.startsWith(i.search_name))?[a("div",{staticClass:"chat-item"},[a("div",{staticClass:"chat-img"},[a("img",{attrs:{src:e.logo}})]),i._v(" "),a("div",{staticClass:"chat-text"},[i._v("\n                "+i._s(e.remark_name)+"\n                "),a("div",{staticStyle:{display:"inline-block",position:"absolute",right:"10px"}},[a("Checkbox",{attrs:{label:e.id}})],1)])])]:i._e()})],2)],1)])])},staticRenderFns:[]};var c=a("VU/8")(m,x,!1,function(i){a("iYPo")},"data-v-123a9420",null);e.default=c.exports},iYPo:function(i,e){}});
//# sourceMappingURL=17.b207aeb80bc84790a2a9.js.map