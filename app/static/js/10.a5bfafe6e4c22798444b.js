webpackJsonp([10],{C7un:function(e,a){},lncJ:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n("Xxa5"),r=n.n(t),s=n("exGp"),i=n.n(s),c=n("gyMJ"),o={name:"FriendInfo",mounted:function(){this.friend_id=this.$route.params.id,this.getUserInfo()},created:function(){},computed:{},data:function(){return{friend:{},friend_id:"",del_friend_modal:null,edit_remark_modal:null,new_remark_name:null}},methods:{editRemark:function(){var e=this;return i()(r.a.mark(function a(){var n,t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.new_remark_name&&e.new_remark_name.trim()){a.next=3;break}return e.$Message.warning("备注名不能为空！"),a.abrupt("return");case 3:return n={friend_id:e.friend.id,remark:e.new_remark_name},a.next=6,Object(c.t)(n);case 6:200===(t=a.sent).code?(e.friend.remark_name=e.remark_name,e.edit_remark_modal=!1):e.$Message.warning(t.message);case 8:case"end":return a.stop()}},a,e)}))()},getUserInfo:function(){var e=this;return i()(r.a.mark(function a(){var n,t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n={friend_id:e.friend_id},a.next=3,Object(c.n)(n);case 3:t=a.sent,console.log(t),200===t.code?e.friend=t.data:e.$Message.error(t.message);case 6:case"end":return a.stop()}},a,e)}))()},delFriend:function(){var e=this;return i()(r.a.mark(function a(){var n,t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n={friend_id:e.friend.id},a.next=3,Object(c.h)(n);case 3:t=a.sent,console.log(t),200===t.code?(e.$Message.success("好友删除成功"),e.$router.push("/friend")):e.$Message.error(t.message);case 6:case"end":return a.stop()}},a,e)}))()},updateUser:function(){var e=this;return i()(r.a.mark(function a(){var n,t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n={type:1},a.next=3,Object(c.w)(n);case 3:200===(t=a.sent).state?e.$Message.success("设置成功"):e.$Message.warning(t.message);case 5:case"end":return a.stop()}},a,e)}))()},changeChat:function(e){var a=this;return i()(r.a.mark(function n(){var t,s;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.chat_type=1,n.next=3,Object(c.b)(e);case 3:200===(t=n.sent).code?(s=t.data,a.$router.push("/chat/"+s)):a.$Message.warning(t.message);case 5:case"end":return n.stop()}},n,a)}))()}}},d={render:function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"wap-main"},[n("div",{staticClass:"wap-main-friend"},[n("div",{staticClass:"wap-main-friend-title"},[n("span",{staticClass:"wap-main-friend-title-back",on:{click:function(a){e.$router.go(-1)}}},[n("Icon",{attrs:{type:"ios-arrow-back",size:"18"}})],1),e._v(" "),n("span",{staticClass:"wap-main-chat-title-name"},[e._v("\n        好友信息\n      ")])]),e._v(" "),n("div",{staticClass:"wap-main-friend-body"},[n("div",{staticClass:"wap-main-friend-logo"},[n("img",{attrs:{src:e.friend.logo,alt:""}})]),e._v(" "),n("div",{staticClass:"wap-main-friend-info"},[n("p",{staticClass:"wap-main-friend-remark"},[e._v(e._s(e.friend.remark))]),e._v(" "),n("p",{staticClass:"wap-main-friend-nickname"},[e._v("昵称："+e._s(e.friend.nickname))])])]),e._v(" "),n("div",{staticClass:"wap-main-friend-bottom"},[n("div",{staticClass:"wap-main-friend-update-remark",on:{click:function(a){e.edit_remark_modal=!0}}},[e._v("修改备注")]),e._v(" "),0===e.$User.user.type&&2===e.friend.type?n("div",{staticClass:"wap-main-friend-update-remark",on:{click:e.updateUser}},[e._v("\n        设置为站长\n      ")]):e._e(),e._v(" "),n("div",{staticClass:"wap-main-friend-sendmessage",on:{click:function(a){e.changeChat(e.friend)}}},[e._v("发消息")]),e._v(" "),n("div",{staticClass:"wap-main-friend-delete"},[n("Button",{attrs:{long:"",type:"error"},on:{click:function(a){e.del_friend_modal=!0}}},[e._v("删除好友")])],1)])]),e._v(" "),n("Modal",{attrs:{title:"删除好友","class-name":"wap-my-modal"},on:{"on-cancel":function(a){e.del_friend_modal=!1}},model:{value:e.del_friend_modal,callback:function(a){e.del_friend_modal=a},expression:"del_friend_modal"}},[n("div",{staticClass:"wap-my-modal-text"},[n("span",[e._v("您确定删除好友 "),n("span",{staticStyle:{color:"#cc99ff"}},[e._v(e._s(e.friend.remark_name))]),e._v(" 吗？")])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:function(a){e.del_friend_modal=!1}}},[e._v("取消")]),e._v(" "),n("Button",{attrs:{type:"primary"},on:{click:e.delFriend}},[e._v("确定")])],1)]),e._v(" "),n("Modal",{attrs:{title:"修改备注","class-name":"wap-my-modal"},on:{"on-cancel":function(a){e.edit_remark_modal=!1}},model:{value:e.edit_remark_modal,callback:function(a){e.edit_remark_modal=a},expression:"edit_remark_modal"}},[n("div",{staticClass:"wap-my-modal-text"},[n("Input",{attrs:{placeholder:"请输入备注名称",autofocus:""},model:{value:e.new_remark_name,callback:function(a){e.new_remark_name=a},expression:"new_remark_name"}})],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:function(a){e.edit_remark_modal=!1}}},[e._v("取消")]),e._v(" "),n("Button",{attrs:{type:"primary"},on:{click:e.editRemark}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var l=n("VU/8")(o,d,!1,function(e){n("C7un")},"data-v-68e6ab2d",null);a.default=l.exports}});
//# sourceMappingURL=10.a5bfafe6e4c22798444b.js.map