webpackJsonp([3],{"/TQQ":function(e,a){},SImg:function(e,a){},e58N:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Xxa5"),i=t.n(n),r=t("exGp"),s=t.n(r),c=t("gyMJ"),o={name:"FriendInfo",props:["friend"],data:function(){return{update_nickname_active:!1,hover_active_id:null,del_friend_modal:!1,new_remark_name:this.friend.remark}},methods:{editRemark:function(){var e=this;return s()(i.a.mark(function a(){var t,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.new_remark_name.trim()){a.next=3;break}return e.$Message.warning("备注名不能为空！"),a.abrupt("return");case 3:return e.update_nickname_active=!1,t={friend_id:e.friend.id,remark:e.new_remark_name},a.next=7,Object(c.u)(t);case 7:200!==(n=a.sent).code&&e.$Message.warning(n.message);case 9:case"end":return a.stop()}},a,e)}))()},delFriend:function(){var e=this;return s()(i.a.mark(function a(){var t,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={friend_id:e.friend.id},a.next=3,Object(c.h)(t);case 3:200===(n=a.sent).state?(e.$Message.success("好友删除成功"),e.$router.push("/friend")):e.$Message.error(n.message);case 5:case"end":return a.stop()}},a,e)}))()},setAdmin:function(){var e=this;return s()(i.a.mark(function a(){var t,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={type:1},a.next=3,Object(c.x)(t);case 3:200===(n=a.sent).state?(e.$Message.success("设置成功"),e.friend.type=1):e.$Message.warning(n.message);case 5:case"end":return a.stop()}},a,e)}))()},cancelAdmin:function(){var e=this;return s()(i.a.mark(function a(){var t,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={type:2},a.next=3,Object(c.x)(t);case 3:200===(n=a.sent).state?(e.$Message.success("取消成功"),e.friend.type=2):e.$Message.warning(n.message);case 5:case"end":return a.stop()}},a,e)}))()},changeChat:function(){var e=this;return s()(i.a.mark(function a(){var t,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.friend.chat_type=1,a.next=3,Object(c.b)(e.friend);case 3:200===(t=a.sent).code?(n=t.data,e.$router.push({name:"pcChat",params:{chat_id:n}})):e.$Message.warning(t.message);case 5:case"end":return a.stop()}},a,e)}))()}},directives:{focus:{inserted:function(e,a){var t=a.value;console.log(e,{value:t}),t&&e.focus()}}}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"right"}},[t("div",{staticClass:"right-title"},[t("p",[e._v(e._s(e.friend.username))])]),e._v(" "),t("div",{staticClass:"right-main-body",staticStyle:{"padding-top":"80px"}},[e.friend.id?[t("div",{staticClass:"pc-friend-info"},[t("div",{staticClass:"wap-main-friend-logo",staticStyle:{"margin-left":"0"}},[t("img",{attrs:{src:e.friend.logo,alt:""}})]),e._v(" "),t("div",{staticClass:"wap-main-friend-info",staticStyle:{width:"160px","text-align":"left"}},[t("p",{staticClass:"wap-main-friend-remark"},[e._v(e._s(e.friend.nickname))]),e._v(" "),t("p",{staticClass:"wap-main-friend-nickname"},[e._v("备注：\n            "),e.update_nickname_active?t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_remark_name,expression:"new_remark_name"},{name:"focus",rawName:"v-focus",value:e.update_nickname_active,expression:"update_nickname_active"}],attrs:{type:"text",id:"update-remark"},domProps:{value:e.new_remark_name},on:{blur:e.editRemark,input:function(a){a.target.composing||(e.new_remark_name=a.target.value)}}}):[e._v("\n              "+e._s(e.friend.remark)+"\n            ")],e._v(" "),t("Icon",{staticClass:"pc-friend-remark",attrs:{type:"md-create",size:"13",alt:"修改昵称"},on:{click:function(a){e.update_nickname_active=!0}}})],2)])]),e._v(" "),t("div",{staticClass:"pc-friend-btn",staticStyle:{height:"120px"}},[t("button",{on:{click:e.changeChat}},[e._v("发消息")]),e._v(" "),t("button",{staticClass:"del-group",on:{click:function(a){e.del_friend_modal=!0}}},[e._v("删除好友")]),e._v(" "),0===e.$User.user.type&&2===e.friend.type?t("button",{staticClass:"set-admin",on:{click:e.setAdmin}},[e._v("设为站长")]):e._e(),e._v(" "),0===e.$User.user.type&&1===e.friend.type?t("button",{staticClass:"set-admin",on:{click:e.cancelAdmin}},[e._v("取消站长")]):e._e()])]:e._e()],2),e._v(" "),t("Modal",{attrs:{title:"删除好友","class-name":"my-modal",width:"400px"},on:{"on-cancel":function(a){e.del_friend_modal=!1}},model:{value:e.del_friend_modal,callback:function(a){e.del_friend_modal=a},expression:"del_friend_modal"}},[t("div",{staticClass:"my-modal-text"},[t("span",[e._v("您确定删除好友 "),t("span",{staticStyle:{color:"#cc99ff"}},[e._v(e._s(e.friend.username))]),e._v(" 吗？")])]),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text",size:"large"},on:{click:function(a){e.del_friend_modal=!1}}},[e._v("取消")]),e._v(" "),t("Button",{attrs:{type:"primary",size:"large"},on:{click:e.delFriend}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var m={name:"FriendAdd",props:[],data:function(){return{search_name:"",friend:{}}},methods:{searchFriend:function(){var e=this;return s()(i.a.mark(function a(){var t,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.search_name&&e.search_name.trim()){a.next=3;break}return e.$Message.warning("请输入好友名称！"),a.abrupt("return");case 3:return t={username:e.search_name},a.next=6,Object(c.r)(t);case 6:200===(n=a.sent).code&&(console.log(n.data),n.data.id||e.$Message.info("用户不存在"),e.friend=n.data);case 8:case"end":return a.stop()}},a,e)}))()},addFriend:function(){var e=this;return s()(i.a.mark(function a(){var t,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={friend_id:e.friend.id},a.next=3,Object(c.c)(t);case 3:200===(n=a.sent).code?(e.$Message.success("好友添加成功"),e.$router.push("/pc/friend")):e.$Message.warning(n.message);case 5:case"end":return a.stop()}},a,e)}))()}}},u={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"right"}},[e._m(0),e._v(" "),t("div",{staticClass:"right-main-body",staticStyle:{"padding-top":"80px"}},[t("div",{staticStyle:{"text-align":"left",padding:"10px"}},[t("Input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入用户昵称"},model:{value:e.search_name,callback:function(a){e.search_name=a},expression:"search_name"}}),e._v(" "),t("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.searchFriend}},[e._v("搜索")])],1),e._v(" "),e.friend.id?[t("div",{staticClass:"pc-friend-info"},[t("div",{staticClass:"wap-main-friend-logo",staticStyle:{"margin-left":"0"}},[t("img",{attrs:{src:e.friend.logo,alt:""}})]),e._v(" "),t("div",{staticClass:"wap-main-friend-info",staticStyle:{width:"160px","text-align":"left"}},[t("p",{staticClass:"wap-main-friend-remark"},[e._v(e._s(e.friend.nickname))])])]),e._v(" "),t("div",{staticClass:"pc-friend-btn",staticStyle:{height:"120px"}},[t("button",{on:{click:e.addFriend}},[e._v("添加好友")])])]:e._e()],2)])},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"right-title"},[a("p",[this._v("添加好友")])])}]};var l={name:"Home",components:{FriendInfo:t("VU/8")(o,d,!1,function(e){t("/TQQ")},"data-v-348d4181",null).exports,FriendAdd:t("VU/8")(m,u,!1,function(e){t("isaZ")},"data-v-7fd6e03b",null).exports},data:function(){return{friend_add_active:!1,search_value:"",select_friend:{},group_add_search:"",friend_active:"",add_friend_modal:!1,del_friend_modal:!1,friend_list:[{id:1,username:"xiaoxin",logo:"/static/images/mv1.jpg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:2,username:"xiaoxin1",logo:"/static/images/mv2.png",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:3,username:"xiaoxin2",logo:"/static/images/mv3.jpg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:4,username:"xiaoxin3",logo:"/static/images/mv4.jpg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:5,username:"xiaoxin4",logo:"/static/images/mv5.jpeg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:6,username:"xiaoxin",logo:"/static/images/mv1.jpg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:7,username:"xiaoxin1",logo:"/static/images/mv2.png",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:8,username:"xiaoxin2",logo:"/static/images/mv3.jpg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:9,username:"xiaoxin3",logo:"/static/images/mv4.jpg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:10,username:"xiaoxin4",logo:"/static/images/mv5.jpeg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:11,username:"xiaoxin",logo:"/static/images/mv1.jpg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:12,username:"xiaoxin1",logo:"/static/images/mv2.png",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:13,username:"xiaoxin2",logo:"/static/images/mv3.jpg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:14,username:"xiaoxin3",logo:"/static/images/mv4.jpg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"},{id:15,username:"xiaoxin4",logo:"/static/images/mv5.jpeg",type:"chat",nickname:"xiaoxin",remark:"xiaoxin"}]}},created:function(){},mounted:function(){},methods:{getFriend:function(){var e=this;return s()(i.a.mark(function a(){var t;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(c.m)();case 2:200===(t=a.sent).code?e.friend_list=t.data:e.$Message.error(t.message);case 4:case"end":return a.stop()}},a,e)}))()},changeFriend:function(e){this.friend_add_active=!1,this.friend_active=e,this.select_friend=this.friend_list[e]},searchFriend:function(){var e=this;return s()(i.a.mark(function a(){var t,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.search_name&&e.search_name.trim()){a.next=3;break}return e.$Message.warning("请输入好友名称！"),a.abrupt("return");case 3:return t={username:e.search_name},a.next=6,Object(c.r)(t);case 6:200===(n=a.sent).code&&(console.log(n.data),e.friend=n.data);case 8:case"end":return a.stop()}},a,e)}))()},addFriend:function(){var e=this;return s()(i.a.mark(function a(){var t,n;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={friend_id:e.friend.id},a.next=3,Object(c.c)(t);case 3:200===(n=a.sent).code?e.$Message.success("好友添加成功"):e.$Message.warning(n.message);case 5:case"end":return a.stop()}},a,e)}))()}}},f={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticStyle:{height:"100%"}},[t("div",{attrs:{id:"center"}},[t("div",{staticClass:"search"},[t("Input",{attrs:{type:"text",placeholder:"search..."},nativeOn:{keyup:function(a){return"button"in a||!e._k(a.keyCode,"enter",13,a.key,"Enter")?e.search(a):null}},model:{value:e.search_value,callback:function(a){e.search_value=a},expression:"search_value"}},[t("Icon",{attrs:{slot:"prefix",type:"ios-search"},slot:"prefix"})],1)],1),e._v(" "),t("div",{staticClass:"center-body"},[e.$User.user.type<2?t("div",{staticClass:"center-item"},[t("div",{staticClass:"create-group",on:{click:function(a){e.friend_add_active=!0}}},[e._m(0),e._v(" "),t("div",{staticClass:"create-group-text"},[e._v("\n            添加好友\n          ")])])]):e._e(),e._v(" "),t("div",{staticClass:"chat-title"},[e._v("\n        好友列表"+e._s(0===e.friend_list.length?"":" ("+e.friend_list.length+"人)")+"\n      ")]),e._v(" "),t("div",{staticClass:"friend-body"},[e._l(e.friend_list,function(a,n){return a.remark_name&&a.remark_name.startsWith(e.search_value)||a.nickname&&a.nickname.startsWith(e.search_value)?[t("div",{class:"chat-item "+(e.friend_active===n?"active":""),on:{click:function(a){e.changeFriend(n)}}},[t("div",{staticClass:"chat-img"},[t("img",{attrs:{src:a.logo}})]),e._v(" "),t("div",{staticClass:"chat-text"},[e._v("\n              "+e._s(a.remark)+"\n            ")])])]:e._e()})],2)])]),e._v(" "),e.friend_add_active?t("FriendAdd"):t("FriendInfo",{attrs:{friend:e.select_friend}})],1)},staticRenderFns:[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"create-group-img"},[a("img",{attrs:{src:"/static/images/search_add_friend.png"}})])}]};var v=t("VU/8")(l,f,!1,function(e){t("SImg")},null,null);a.default=v.exports},isaZ:function(e,a){}});
//# sourceMappingURL=3.8441b9e8d5adf0c1d1f8.js.map