{"version":3,"sources":["webpack:///src/components/FriendInfo.vue","webpack:///./src/components/FriendInfo.vue?df99","webpack:///./src/components/FriendInfo.vue"],"names":["FriendInfo","name","mounted","this","$User","user","friend","$route","params","$router","push","created","computed","data","del_friend_modal","edit_remark_modal","new_remark_name","methods","editRemark","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","json_data","resp","wrap","_context","prev","next","trim","$Message","warning","abrupt","friend_id","id","remark","Object","api","sent","code","remark_name","message","stop","delFriend","_this2","_callee2","_context2","state","success","error","updateUser","_this3","_callee3","_context3","type","changeChat","chat_type","chat","components_FriendInfo","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","go","attrs","size","_v","src","logo","alt","_s","nickname","_e","long","title","class-name","on-cancel","model","value","callback","$$v","expression","staticStyle","color","slot","placeholder","autofocus","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.a334222b750b06bfc310.js","sourcesContent":["<template>\n    <div class=\"wap-main\">\n      <!--  点击好友，好友资料页面 -->\n      <div class=\"wap-main-friend\">\n        <div class=\"wap-main-friend-title\">\n        <span class=\"wap-main-friend-title-back\" @click=\"$router.go(-1)\">\n          <Icon type=\"ios-arrow-back\" size=\"18\"/>\n        </span>\n          <span class=\"wap-main-chat-title-name\">\n          好友信息\n        </span>\n        </div>\n\n        <div class=\"wap-main-friend-body\">\n          <div class=\"wap-main-friend-logo\">\n            <img :src=\"friend.logo\" alt=\"\">\n          </div>\n          <div class=\"wap-main-friend-info\">\n            <p class=\"wap-main-friend-remark\">{{friend.remark_name}}</p>\n            <p class=\"wap-main-friend-nickname\">昵称：{{friend.nickname}}</p>\n          </div>\n        </div>\n        <div class=\"wap-main-friend-bottom\">\n          <div class=\"wap-main-friend-update-remark\" @click=\"edit_remark_modal=true\">修改备注</div>\n          <div class=\"wap-main-friend-update-remark\" v-if=\"$User.user.type === 0 && friend.type === 2\" @click=\"updateUser\">设置为站长</div>\n          <div class=\"wap-main-friend-sendmessage\" @click=\"changeChat(friend)\">发消息</div>\n          <div class=\"wap-main-friend-delete\"><Button long type=\"error\" @click=\"del_friend_modal=true\">删除好友</Button></div>\n        </div>\n      </div>\n\n      <!--  删除好友模态框 -->\n      <Modal\n        v-model=\"del_friend_modal\"\n        @on-cancel=\"del_friend_modal=false\"\n        title=\"删除好友\"\n        class-name=\"wap-my-modal\">\n        <div class=\"wap-my-modal-text\">\n          <span>您确定删除好友 <span style=\"color: #cc99ff;\">{{friend.remark_name}}</span> 吗？</span>\n        </div>\n        <div slot=\"footer\">\n          <Button type=\"text\" @click=\"del_friend_modal=false\">取消</Button>\n          <Button type=\"primary\" @click=\"delFriend\">确定</Button>\n        </div>\n      </Modal>\n\n      <!--  修改备注模态框 -->\n      <Modal\n        v-model=\"edit_remark_modal\"\n        @on-cancel=\"edit_remark_modal=false\"\n        title=\"修改备注\"\n        class-name=\"wap-my-modal\">\n        <div class=\"wap-my-modal-text\">\n          <Input placeholder=\"请输入备注名称\" autofocus v-model=\"new_remark_name\"/>\n        </div>\n        <div slot=\"footer\">\n          <Button type=\"text\" @click=\"edit_remark_modal=false\">取消</Button>\n          <Button type=\"primary\" @click=\"editRemark\">确定</Button>\n        </div>\n      </Modal>\n\n    </div>\n\n</template>\n\n<script>\n  import {updateFriend, deleteFriend, updateUser} from \"../api\";\n\n   export default {\n        name: \"FriendInfo\",\n      mounted() {\n        if(!this.$User.user){\n          this.$router.push('/login')\n        }else{\n          this.friend = this.$route.params.friend\n        }\n      },\n      created(){\n\n      },\n      computed:{\n        // friend_info(){\n        //   console.log(this.$router.params.friend);\n        //   return this.$route.params.friend\n        // }\n      },\n      data(){\n        return {\n          friend:{},\n          del_friend_modal: null,\n          edit_remark_modal: null,\n          new_remark_name: null,\n        }\n      },\n      methods:{\n        // 更新好友资料\n        async editRemark(){\n          if(!this.new_remark_name || !this.new_remark_name.trim()){\n            this.$Message.warning('备注名不能为空！');\n            return\n          }\n          let json_data = {\n            friend_id: this.friend.id,\n            remark: this.new_remark_name\n          };\n          let resp = await updateFriend(json_data);\n          if(resp.code === 200){\n            this.friend.remark_name = this.remark_name;\n            this.edit_remark_modal = false;\n          }else{\n            this.$Message.warning(resp.message);\n          }\n        },\n\n        // 删除好友\n        async delFriend(){\n          let json_data = {\n            friend_id: this.friend.id\n          };\n          let resp = await deleteFriend(json_data);\n          if (resp.state === 200){\n            this.$Message.success('好友删除成功');\n            this.$router.push('/friend');\n          }else{\n            this.$Message.error(resp.message)\n          }\n        },\n\n        // 设置为站长\n        async updateUser(){\n          let json_data = {\n            type: 1\n          };\n          let resp = await updateUser(json_data);\n          if(resp.state === 200){\n            this.$Message.success('设置成功');\n          }else{\n            this.$Message.warning(resp.message)\n          }\n        },\n\n        // 进入聊天页面\n        changeChat(friend) {\n          friend.chat_type = 1;\n          this.$router.push({\n            name: 'Chat',\n            params:{\n              chat: friend\n            }\n          })\n        },\n      },\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/FriendInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wap-main\"},[_c('div',{staticClass:\"wap-main-friend\"},[_c('div',{staticClass:\"wap-main-friend-title\"},[_c('span',{staticClass:\"wap-main-friend-title-back\",on:{\"click\":function($event){_vm.$router.go(-1)}}},[_c('Icon',{attrs:{\"type\":\"ios-arrow-back\",\"size\":\"18\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"wap-main-chat-title-name\"},[_vm._v(\"\\n      好友信息\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"wap-main-friend-body\"},[_c('div',{staticClass:\"wap-main-friend-logo\"},[_c('img',{attrs:{\"src\":_vm.friend.logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"wap-main-friend-info\"},[_c('p',{staticClass:\"wap-main-friend-remark\"},[_vm._v(_vm._s(_vm.friend.remark_name))]),_vm._v(\" \"),_c('p',{staticClass:\"wap-main-friend-nickname\"},[_vm._v(\"昵称：\"+_vm._s(_vm.friend.nickname))])])]),_vm._v(\" \"),_c('div',{staticClass:\"wap-main-friend-bottom\"},[_c('div',{staticClass:\"wap-main-friend-update-remark\",on:{\"click\":function($event){_vm.edit_remark_modal=true}}},[_vm._v(\"修改备注\")]),_vm._v(\" \"),(_vm.$User.user.type === 0 && _vm.friend.type === 2)?_c('div',{staticClass:\"wap-main-friend-update-remark\",on:{\"click\":_vm.updateUser}},[_vm._v(\"设置为站长\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"wap-main-friend-sendmessage\",on:{\"click\":function($event){_vm.changeChat(_vm.friend)}}},[_vm._v(\"发消息\")]),_vm._v(\" \"),_c('div',{staticClass:\"wap-main-friend-delete\"},[_c('Button',{attrs:{\"long\":\"\",\"type\":\"error\"},on:{\"click\":function($event){_vm.del_friend_modal=true}}},[_vm._v(\"删除好友\")])],1)])]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"删除好友\",\"class-name\":\"wap-my-modal\"},on:{\"on-cancel\":function($event){_vm.del_friend_modal=false}},model:{value:(_vm.del_friend_modal),callback:function ($$v) {_vm.del_friend_modal=$$v},expression:\"del_friend_modal\"}},[_c('div',{staticClass:\"wap-my-modal-text\"},[_c('span',[_vm._v(\"您确定删除好友 \"),_c('span',{staticStyle:{\"color\":\"#cc99ff\"}},[_vm._v(_vm._s(_vm.friend.remark_name))]),_vm._v(\" 吗？\")])]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.del_friend_modal=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.delFriend}},[_vm._v(\"确定\")])],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"修改备注\",\"class-name\":\"wap-my-modal\"},on:{\"on-cancel\":function($event){_vm.edit_remark_modal=false}},model:{value:(_vm.edit_remark_modal),callback:function ($$v) {_vm.edit_remark_modal=$$v},expression:\"edit_remark_modal\"}},[_c('div',{staticClass:\"wap-my-modal-text\"},[_c('Input',{attrs:{\"placeholder\":\"请输入备注名称\",\"autofocus\":\"\"},model:{value:(_vm.new_remark_name),callback:function ($$v) {_vm.new_remark_name=$$v},expression:\"new_remark_name\"}})],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.edit_remark_modal=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRemark}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50803dc3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/FriendInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50803dc3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FriendInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FriendInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FriendInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50803dc3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FriendInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50803dc3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FriendInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}