webpackJsonp([9],{RT1r:function(e,a){},jCWm:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Xxa5"),r=t.n(n),i=t("exGp"),s=t.n(i),o=t("gyMJ"),c={name:"FriendInfo",mounted:function(){this.$User.user?this.friend=this.$route.params.friend:this.$router.push("/login")},created:function(){},computed:{},data:function(){return{friend:{},del_friend_modal:null,edit_remark_modal:null,new_remark_name:null}},methods:{editRemark:function(){var e=this;return s()(r.a.mark(function a(){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.new_remark_name&&e.new_remark_name.trim()){a.next=3;break}return e.$Message.warning("备注名不能为空！"),a.abrupt("return");case 3:return t={friend_id:e.friend.id,remark:e.new_remark_name},a.next=6,Object(o.r)(t);case 6:200===(n=a.sent).code?(e.friend.remark_name=e.remark_name,e.edit_remark_modal=!1):e.$Message.warning(n.message);case 8:case"end":return a.stop()}},a,e)}))()},delFriend:function(){var e=this;return s()(r.a.mark(function a(){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={friend_id:e.friend.id},a.next=3,Object(o.i)(t);case 3:200===(n=a.sent).state?(e.$Message.success("好友删除成功"),e.$router.push("/friend")):e.$Message.error(n.message);case 5:case"end":return a.stop()}},a,e)}))()},updateUser:function(){var e=this;return s()(r.a.mark(function a(){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={type:1},a.next=3,Object(o.u)(t);case 3:200===(n=a.sent).state?e.$Message.success("设置成功"):e.$Message.warning(n.message);case 5:case"end":return a.stop()}},a,e)}))()},changeChat:function(e){e.chat_type=1,this.$router.push({name:"Chat",params:{chat:e}})}}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"wap-main"},[t("div",{staticClass:"wap-main-friend"},[t("div",{staticClass:"wap-main-friend-title"},[t("span",{staticClass:"wap-main-friend-title-back",on:{click:function(a){e.$router.go(-1)}}},[t("Icon",{attrs:{type:"ios-arrow-back",size:"18"}})],1),e._v(" "),t("span",{staticClass:"wap-main-chat-title-name"},[e._v("\n      好友信息\n    ")])]),e._v(" "),t("div",{staticClass:"wap-main-friend-body"},[t("div",{staticClass:"wap-main-friend-logo"},[t("img",{attrs:{src:e.friend.logo,alt:""}})]),e._v(" "),t("div",{staticClass:"wap-main-friend-info"},[t("p",{staticClass:"wap-main-friend-remark"},[e._v(e._s(e.friend.remark_name))]),e._v(" "),t("p",{staticClass:"wap-main-friend-nickname"},[e._v("昵称："+e._s(e.friend.nickname))])])]),e._v(" "),t("div",{staticClass:"wap-main-friend-bottom"},[t("div",{staticClass:"wap-main-friend-update-remark",on:{click:function(a){e.edit_remark_modal=!0}}},[e._v("修改备注")]),e._v(" "),0===e.$User.user.type&&2===e.friend.type?t("div",{staticClass:"wap-main-friend-update-remark",on:{click:e.updateUser}},[e._v("设置为站长")]):e._e(),e._v(" "),t("div",{staticClass:"wap-main-friend-sendmessage",on:{click:function(a){e.changeChat(e.friend)}}},[e._v("发消息")]),e._v(" "),t("div",{staticClass:"wap-main-friend-delete"},[t("Button",{attrs:{long:"",type:"error"},on:{click:function(a){e.del_friend_modal=!0}}},[e._v("删除好友")])],1)])]),e._v(" "),t("Modal",{attrs:{title:"删除好友","class-name":"wap-my-modal"},on:{"on-cancel":function(a){e.del_friend_modal=!1}},model:{value:e.del_friend_modal,callback:function(a){e.del_friend_modal=a},expression:"del_friend_modal"}},[t("div",{staticClass:"wap-my-modal-text"},[t("span",[e._v("您确定删除好友 "),t("span",{staticStyle:{color:"#cc99ff"}},[e._v(e._s(e.friend.remark_name))]),e._v(" 吗？")])]),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text"},on:{click:function(a){e.del_friend_modal=!1}}},[e._v("取消")]),e._v(" "),t("Button",{attrs:{type:"primary"},on:{click:e.delFriend}},[e._v("确定")])],1)]),e._v(" "),t("Modal",{attrs:{title:"修改备注","class-name":"wap-my-modal"},on:{"on-cancel":function(a){e.edit_remark_modal=!1}},model:{value:e.edit_remark_modal,callback:function(a){e.edit_remark_modal=a},expression:"edit_remark_modal"}},[t("div",{staticClass:"wap-my-modal-text"},[t("Input",{attrs:{placeholder:"请输入备注名称",autofocus:""},model:{value:e.new_remark_name,callback:function(a){e.new_remark_name=a},expression:"new_remark_name"}})],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text"},on:{click:function(a){e.edit_remark_modal=!1}}},[e._v("取消")]),e._v(" "),t("Button",{attrs:{type:"primary"},on:{click:e.editRemark}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var l=t("VU/8")(c,d,!1,function(e){t("RT1r")},"data-v-50803dc3",null);a.default=l.exports}});
//# sourceMappingURL=9.a334222b750b06bfc310.js.map